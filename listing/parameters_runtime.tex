\section{Runtime Parameters}

% create command to draw operation tables
\newcommand{\confdef}[2]{
    ~\\ \begin{tabular}{|
        >{\columncolor[HTML]{C0C0C0}}l |l|}
        \hline
        Type & \texttt{#1} \\ \hline
        Default   & \texttt{#2} \\ \hline
    \end{tabular}
}

This section enumerates simulation parameters and provides default settings that were used.

See \url{https://github.com/mmore500/dishtiny/blob/prq49/include/dish2/config/ConfigBase.hpp} for source code defining run time parameters.

Some parameter settings were overridden in some assays.
See \url{https://github.com/mmore500/dishtiny/tree/prq49/configpacks/bucket=prq49+diversity=0.50_series+mut_freq=1.00+mut_sever=1.00} for configuration files used in each assay and \url{https://github.com/mmore500/dishtiny/tree/prq49/slurm} for runscripts used in each assay.

\subsection{EXECUTION}

% start of EXECUTION

\subsubsection{N\_THREADS}

\confdef{size\_t}{4}

How many threads should we run with?

\subsubsection{RUN\_UPDATES}

\confdef{bool}{\texttt{false}}

Should we run evolution or skip directly to post-processing and data collection?

\subsubsection{RUN\_UPDATES}

\confdef{size\_t}{0}

How many updates should we run the experiment for?

\subsubsection{RUN\_SECONDS}

\confdef{double}{0}

How many updates should we run the experiment for?

\subsubsection{MAIN\_TIMEOUT\_SECONDS}

\confdef{double}{10800}

After how many seconds should we time out and fail with an error?

\subsubsection{END\_SNAPSHOT\_TIMEOUT\_SECONDS}

\confdef{double}{1200}

After how many seconds should the end snapshot timeout?

\subsubsection{LOG\_FREQ}

\confdef{double}{20}

How many seconds should pass between logging progress?

\subsubsection{ASYNCHRONOUS}

\confdef{size\_t}{3}

Should updates occur synchronously across threads and processes?

\subsubsection{SYNC\_FREQ\_MILLISECONDS}

\confdef{size\_t}{100}

How often updates occur synchronously across threads and processes for async mode 1?

\subsubsection{RNG\_PRESEED}

\confdef{utin64\_t}{std::numeric\_limits<uint64\_t>::max()}

Optionally override the calculated rng preseed.

\subsubsection{THROW\_ON\_EXTINCTION}

\confdef{bool}{true}

Should we throw an exception if populations go extinct?

% end of EXECUTION

\subsection{EXPERIMENT}

% start of EXPERIMENT

\subsubsection{RUN\_SLUG}

\confdef{std::string}{``default''}

Run-identifying slug.

\subsubsection{PHENOTYPIC\_DIVERGENCE\_N\_UPDATES}

\confdef{size\_t}{2048}

How many updates should we run phenotypic divergence experiments for?
If phenotypic divergence is not detected within this many updates, we consider two strains to be phenotypically identical.

\subsubsection{PHENOTYPIC\_DIVERGENCE\_N\_CELLS}

\confdef{size\_t}{100}

How many cells should we simulate while testing for phenotypic divergence?

\subsubsection{STINT}

\confdef{utin64\_t}{std::numeric\_limits<uint64\_t>::max()}

How many evolutionary stints have elapsed?

\subsubsection{SERIES}

\confdef{utin64\_t}{std::numeric\_limits<uint64\_t>::max()}

Which evolutionary series are we running?

\subsubsection{REPLICATE}

\confdef{std::string}{``''}

What replicate are we running?

\subsubsection{TREATMENT}

\confdef{std::string}{``none''}

What experimental treatment has been applied?

\subsubsection{SEED\_FILL\_FRACTION}

\confdef{double}{1.0}

If we are seeding the population, what fraction of available slots should we fill?

\subsubsection{GENESIS}

\confdef{std::string}{"generate"}

How should we initialize the population?
Can be ``generate'' to randomly generate a new population,  ``reconstitute'' to load a population from file, ``monoculture'' to load a single genome from file, or ``innoculate'' to load genomes annotated with root ID keyname attributes from file.

% end of EXPERIMENT

\subsection{DEMOGRAPHICS}

% start of DEMOCRAPHICS

\subsubsection{N\_CELLS}

\confdef{size\_t}{10000}

How many cells should be simulated?

\subsubsection{WEAK\_SCALING}

\confdef{bool}{false}

Should number of total cells be multiplied by the total number of threads (num procs times threads per proc)?

\subsubsection{N\_DIMS}

\confdef{size\_t}{DISH2\_NLEV}

What dimensionality should the toroidal mesh have?

\subsubsection{GROUP\_EXPIRATION\_DURATIONS}

\confdef{internal::nlev\_size\_t\_t}{internal::nlev\_size\_t\_t\{ 256, 1024 \}}

After how many \texttt{epochs} should groups stop collecting resource?

\subsubsection{CELL\_AGE\_DURATION}

\confdef{size\_t}{1024}

After how many epochs should cells die?

% end of DEMOGRAPHICS

\subsection{RESOURCE}

% start of RESOURCE

\subsubsection{MIN\_START\_RESOURCE}

\confdef{float}{0.8}

How much resource should a cell start with?

\subsubsection{MAX\_START\_RESOURCE}

\confdef{float}{0.9}

How much resource should a cell start with?

\subsubsection{RESOURCE\_DECAY}

\confdef{float}{0.995}

How much resource should remain each update?

\subsubsection{APOP\_RECOVERY\_FRAC}

\confdef{float}{0.8}

What fraction of \texttt{REP\_THRESH} is recovered to heirs after apoptosis?

\subsubsection{SPAWN\_DEFENSE\_COST}

\confdef{float}{1.1}

What is the cost of repelling an incoming spawn?

% end of RESOURCE

\subsection{HARVEST}

% start of HARVEST

\subsubsection{BASE\_HARVEST\_RATE}

\confdef{float}{0.02}

How much resource should cells accrue per update?

\subsubsection{COLLECTIVE\_HARVEST\_RATE}

\confdef{internal::nlev\_float\_t}{internal::nlev\_float\_t\{0.25\}}

How much resource should cells accrue per update?

\subsubsection{OPTIMAL\_QUORUM\_COUNT}

\confdef{internal::nlev\_float\_t}{internal::nlev\_size\_\_t\{12\}}

What group size does collective harvest work most effectively at?

% end of HARVEST

\subsection{QUORUM}

% start of QUORUM

\subsubsection{P\_SET\_QUORUM\_BIT}

\confdef{internal::nlev\_float\_t}{internal::nlev\_float\_t\{1.0\}}

What fraction of cells should have a quorum bit set?

% end of QUORUM

\subsection{GENOME}

\subsubsection{PROGRAM\_START\_SIZE}

\confdef{size\_t}{128}

How many instructions should initial programs be?

\subsubsection{PROGRAM\_MAX\_SIZE}

\confdef{size\_t}{4096}

How many instructions should programs be capped at?

\subsubsection{MUTATION\_RATE}

\confdef{internal::nlev\_float\_t}{internal::nreplev\_float\_t\{0.1\}}

For each replev, what fraction of cells should be mutated at all?

\subsubsection{POINT\_MUTATION\_RATE}

\confdef{float}{0.0002}

What fraction of bits should be scrambled?

\subsubsection{SEQUENCE\_DEFECT\_RATE}

\confdef{float}{0.001}

How often should sloppy copy defect occur?

\subsubsection{MINOR\_SEQUENCE\_MUTATION\_BOUND}

\confdef{size\_t}{8}

For minor sequence mutations, at most how many instructions should be inserted or deleted?

\subsubsection{SEVERE\_SEQUENCE\_MUTATION\_RATE}

\confdef{float}{0.001}

With what probability should sequence mutation be severe?

\subsection{HARDWARE}

\subsubsection{HARDWARE\_EXECUTION\_ROUNDS}

\confdef{size\_t}{1}

How many hardware cardinal rounds to run?

\subsubsection{HARDWARE\_EXECUTION\_CYCLES}

\confdef{size\_t}{16}

How many hardware cycles to run per round?

\subsubsection{CONTROLLER\_MAPPED\_STATE\_DEFECT\_RATE}

\confdef{float}{0.0005}

At what rate should bits should be flipped in writable memory?"

\subsection{SERVICES}

\subsubsection{APOPTOSIS\_SERVICE\_FREQUENCY}

\confdef{size\_t}{16}

Run service every ?? updates.
Must be a power of 2.

\subsubsection{BIRTH\_SETUP\_SERVICE\_FREQUENCY}

\confdef{size\_t}{16}

Run service every ?? updates.
Must be a power of 2.

\subsubsection{CONDUIT\_FLUSH\_SERVICE\_FREQUENCY}

\confdef{size\_t}{1}

Run service every ?? updates.
Must be a power of 2.

\subsubsection{COLLECTIVE\_HARVESTING\_SERVICE\_FREQUENCY}

\confdef{size\_t}{16}

Run service every ?? updates.
Must be a power of 2.

\subsubsection{CPU\_EXECUTION\_SERVICE\_FREQUENCY}

\confdef{size\_t}{4}

Run service every ?? updates.
Must be a power of 2.

\subsubsection{GROUP\_EXPIRATION\_SERVICE\_FREQUENCY}

\confdef{size\_t}{1}

Run service every ?? updates.
Must be a power of 2.

\subsubsection{RUNNING\_LOG\_PURGE\_SERVICE\_FREQUENCY}

\confdef{size\_t}{64}

Run service every ?? updates.
Must be a power of 2.

\subsubsection{DIVERSITY\_MAINTENANCE\_SERVICE\_FREQUENCY}

\confdef{size\_t}{64}

Run service every ?? updates.
Must be a power of 2.

\subsubsection{DIVERSITY\_MAINTENANCE\_PREVALENCE}

\confdef{double}{0.25}

If an originally-seeded ancestor's descendants constitute more than this fraction of the population, decay their resource stockpiles.

\subsubsection{STINT\_DIVERSITY\_MAINTENANCE\_SERVICE\_FREQUENCY}

\confdef{size\_t}{0}

Run service every ?? updates.
Must be a power of 2.

\subsubsection{STINT\_DIVERSITY\_MAINTENANCE\_PREVALENCE}

\confdef{double}{0.25}

If a seeded or reconstituted stint-originating ancestor's descendants constitute more than this fraction of the population, decay their resource stockpiles.

\subsubsection{DECAY\_TO\_BASELINE\_SERVICE\_FREQUENCY}

\confdef{size\_t}{32}

Run service every ?? updates.
                                                                                                        Must be a power of 2.

\subsubsection{EPOCH\_ADVANCE\_SERVICE\_FREQUENCY}

\confdef{size\_t}{8}

Run service every ?? updates.
Must be a power of 2.

\subsubsection{EVENT\_LAUNCHING\_SERVICE\_FREQUENCY}

\confdef{size\_t}{8}

Run service every ?? updates.
Must be a power of 2.
Must be > 1.

\subsubsection{INTERMITTENT\_CPU\_RESET\_SERVICE\_FREQUENCY}

\confdef{size\_t}{64}

Run service every ?? updates.
Must be a power of 2.

\subsubsection{INTERMITTENT\_STATE\_PERTURB\_SERVICES\_FREQUENCY}

\confdef{size\_t}{1}

Run service every ?? updates.
Must be a power of 2.

\subsubsection{INTER\_MESSAGE\_COUNTER\_CLEAR\_SERVICE\_FREQUENCY}

\confdef{size\_t}{16}

Run service every ?? updates.
Must be a power of 2.

\subsubsection{INTER\_MESSAGE\_LAUNCHING\_SERVICE\_FREQUENCY}

\confdef{size\_t}{8}

Run service every ?? updates.
Must be a power of 2.

\subsubsection{INTRA\_MESSAGE\_LAUNCHING\_SERVICE\_FREQUENCY}

\confdef{size\_t}{1}

Run service every ?? updates.
Must be a power of 2.

\subsubsection{STATE\_OUTPUT\_PUT\_SERVICE\_FREQUENCY}

\confdef{size\_t}{8}

Run service every ?? updates.
Must be a power of 2.

\subsubsection{PUSH\_SERVICE\_FREQUENCY}

\confdef{size\_t}{16}

Run service every ?? updates.
Must be a power of 2.

\subsubsection{QUORUM\_CAP\_SERVICE\_FREQUENCY}

\confdef{size\_t}{16}

Run service every ?? updates.
Must be a power of 2.

\subsubsection{QUORUM\_SERVICE\_FREQUENCY}

\confdef{size\_t}{1}

Run service every ?? updates.
Must be a power of 2.

\subsubsection{RESOURCE\_DECAY\_SERVICE\_FREQUENCY}

\confdef{size\_t}{1}

Run service every ?? updates.
Must be a power of 2.

\subsubsection{RESOURCE\_HARVESTING\_SERVICE\_FREQUENCY}

\confdef{size\_t}{1}

Run service every ?? updates.
Must be a power of 2.

\subsubsection{RESOURCE\_INPUT\_JUMP\_SERVICE\_FREQUENCY}

\confdef{size\_t}{1}

Run service every ?? updates.
Must be a power of 2.

\subsubsection{RESOURCE\_RECEIVING\_SERVICE\_FREQUENCY}

\confdef{size\_t}{4}

Run service every ?? updates.
Must be a power of 2.

\subsubsection{RESOURCE\_SENDING\_SERVICE\_FREQUENCY}

\confdef{size\_t}{1}

Run service every ?? updates.
Must be a power of 2.

\subsubsection{SPAWN\_SENDING\_SERVICE\_FREQUENCY}

\confdef{size\_t}{16}

Run service every ?? updates.
Must be a power of 2.

\subsubsection{STATE\_INPUT\_JUMP\_SERVICE\_FREQUENCY}

\confdef{size\_t}{8}

Run service every ?? updates.
Must be a power of 2.

\subsubsection{CONTROLLER\_MAPPED\_STATE\_NOISE\_SERVICE\_FREQUENCY}

\confdef{size\_t}{8}

Run service every ?? updates.
Must be a power of 2.

\subsection{DATA}

\subsubsection{PHENOTYPE\_EQUIVALENT\_NOPOUT}

\confdef{bool}{false}

Should we make and record a phenotype equivalent nopout strain at the end of the run? Must also enable ARTIFACTS\_DUMP.

\subsubsection{BATTLESHIP\_PHENOTYPE\_EQUIVALENT\_NOPOUT}

\confdef{bool}{false}

Should we make and record a phenotype equivalent nopout strain at the end of the run?
Must also enable ARTIFACTS\_DUMP.

\subsubsection{JENGA\_PHENOTYPE\_EQUIVALENT\_NOPOUT}

\confdef{bool}{false}

Should we make and record a phenotype equivalent nopout strain at the end of the run?
Must also enable ARTIFACTS\_DUMP.

\subsubsection{JENGA\_NOP\_OUT\_SAVE\_PROGRESS\_AND\_QUIT\_SECONDS}

\confdef{size\_t}{10800}

After how many seconds should we save nop-out progress and quit?

\subsubsection{TEST\_INTERROOT\_PHENOTYPE\_DIFFERENTIATION}

\confdef{bool}{false}

Should we test for phenotype differentiation between roots?

\subsubsection{ALL\_DRAWINGS\_WRITE}

\confdef{bool}{false}

Should we generate and record drawings of the final state of the simulation?
Must also enable DATA\_DUMP.

\subsubsection{DATA\_DUMP}

\confdef{bool}{false}

Should we record data on the final state of the simulation?

\subsubsection{RUNNINGLOGS\_DUMP}

\confdef{bool}{false}

Should we dump running logs at the end of the simulation?
Must also enable DATA\_DUMP.

\subsubsection{CENSUS\_WRITE}

\confdef{bool}{false}

Should we write the cell census at the end of the simulation?
Must also enable DATA\_DUMP.

\subsubsection{ARTIFACTS\_DUMP}

\confdef{bool}{false}

Should we record data on the final state of the simulation?

\subsubsection{BENCHMARKING\_DUMP}

\confdef{bool}{false}

Should we record data for benchmarking the simulation?

\subsubsection{ROOT\_ABUNDANCES\_FREQ}

\confdef{size\_t}{0}

How many updates should elapse between recording phylogenetic root abundances?
If 0, never record phylogenetic root abundances.
Must be power of two.

\subsubsection{ABORT\_IF\_COALESCENT\_FREQ}

\confdef{size\_t}{0}

How many updates should elapse between checking for coalescence? If 0, never check for coalescence.
Must be power of two.

\subsubsection{ABORT\_IF\_EXTINCT\_FREQ}

\confdef{size\_t}{0}

How many updates should elapse between checking for coalescence? If 0, never check for coalescence. Must be power of two.

\subsubsection{ABORT\_AT\_LIVE\_CELL\_FRACTION}

\confdef{double}{0.0}

Should we terminate once a live cell fraction is reached? If 0, will not terminate.

\subsubsection{REGULATION\_VIZ\_CLAMP}

\confdef{double}{10.0}

What bounds should we clamp regulation values into before running PCA visualization?

\subsubsection{RUNNING\_LOG\_DURATION}

\confdef{size\_t}{4}

How many purge epochs should we keep events in the running log?

\subsubsection{SELECTED\_DRAWINGS\_FREQ}

\confdef{size\_t}{0}

How many updates should elapse between outputting snapshot images?

\subsubsection{DRAWING\_WIDTH\_PX}

\confdef{double}{500.0}

What should the width of the drawings be, in pixels?

\subsubsection{DRAWING\_HEIGHT\_PX}

\confdef{double}{500.0}

What should the height of the drawings be, in pixels?

\subsubsection{SELECTED\_DRAWINGS}

\confdef{std::string}{``''}

What drawings should be drawn?
Provide slugified drawer names separated by colons.

\subsubsection{ANIMATE\_FRAMES}

\confdef{bool}{false}

Should we stitch the output images into a video?
Only valid if DRAWING\_FREQ is not 0.

\subsubsection{VIDEO\_FPS}

\confdef{size\_t}{16}

How many frames per second should the video be?

\subsubsection{VIDEO\_MAX\_FRAMES}

\confdef{size\_t}{960}

At most how many frames should output video include?
