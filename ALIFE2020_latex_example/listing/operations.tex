\section{Operations}

See \url{https://github.com/mmore500/dishtiny/tree/prq49/include/dish2/operations} and \url{https://github.com/mmore500/signalgp-lite/tree/b6c437f44136651aa6f4051d84bc62a86c2afbbe/include/sgpl/operations}

cpu has X registers and a Y-bit bitstring (64?)

cpu has Z cores (16?)

two matching systems:
* one for internal use with all modules
* one that receives messages from other cells that only contains modules with tags that end in 0

\subsection{Fork If}


\begin{tabular}{|
    >{\columncolor[HTML]{C0C0C0}}l |l|}
    \hline
    Prevalence & 1 \\ \hline
    Num Args   & 1 \\ \hline
\end{tabular}

Requests a fork with the instruction tag as an argument if the register pointed to by the OP argument contains a true value.

\subsection{Nop, 0 RNG Touches}

\begin{tabular}{|
    >{\columncolor[HTML]{C0C0C0}}l |l|}
    \hline
    Prevalence & 1 \\ \hline
    Num Args   & 0 \\ \hline
\end{tabular}

Performs no operation for one CPU cycle.

\subsection{Nop, 1 RNG Touches}

\begin{tabular}{|
    >{\columncolor[HTML]{C0C0C0}}l |l|}
    \hline
    Prevalence & 1 \\ \hline
    Num Args   & 0 \\ \hline
\end{tabular}

Performs no operation for one CPU cycle, and advances the PRNG engine once.

\subsection{Nop, 2 RNG Touches}

\begin{tabular}{|
    >{\columncolor[HTML]{C0C0C0}}l |l|} \hline
    Prevalence & 1 \\ \hline
    Num Args   & 1 \\ \hline
\end{tabular}

Performs no operation for one CPU cycle, and advances the PRNG engine twice.

\subsection{Terminate If}

\begin{tabular}{|
    >{\columncolor[HTML]{C0C0C0}}l |l|}
    \hline
    Prevalence & 1 \\ \hline
    Num Args   & 1 \\ \hline
\end{tabular}

Terminates current core if argument is a true value.

\subsection{Add}

\begin{tabular}{|
    >{\columncolor[HTML]{C0C0C0}}l |l|}
    \hline
    Prevalence & 1 \\ \hline
    Num Args   & 3 \\ \hline
\end{tabular}

Adds the value contained in the register pointed to by the second argument to the value in the register pointed to by the third argument.

Stores the result in the register pointed to by the first argument.

\subsection{Divide}

\begin{tabular}{|
    >{\columncolor[HTML]{C0C0C0}}l |l|}
    \hline
    Prevalence & 1 \\ \hline
    Num Args   & 3 \\ \hline
\end{tabular}

Divides the value contained in the register pointed to by the second argument by the value in the register pointed to by the third argument.

Stores the result in the register pointed to by the first argument.

\subsection{Modulo}

\begin{tabular}{|
    >{\columncolor[HTML]{C0C0C0}}l |l|}
    \hline
    Prevalence & 1 \\ \hline
    Num Args   & 3 \\ \hline
\end{tabular}

Calculates the remainder of the divison of the value contained in the register pointed to by the second argument by the value in the register pointed to by the third argument.

Stores the result in the register pointed to by the first argument.

\subsection{Multiply}

\begin{tabular}{|
    >{\columncolor[HTML]{C0C0C0}}l |l|}
    \hline
    Prevalence & 1 \\ \hline
    Num Args   & 3 \\ \hline
\end{tabular}

Multiplies the value contained in the register pointed to by the second argument by the value in the register pointed to by the third argument.

Stores the result in the register pointed to by the first argument.

\subsection{Subtract}

\begin{tabular}{|
    >{\columncolor[HTML]{C0C0C0}}l |l|}
    \hline
    Prevalence & 1 \\ \hline
    Num Args   & 3 \\ \hline
\end{tabular}

Subtracts the value contained in the register pointed to by the second argument to the value in the register pointed to by the third argument.

Stores the result in the register pointed to by the first argument.

\subsection{Bitwise And}


\begin{tabular}{|
    >{\columncolor[HTML]{C0C0C0}}l |l|}
    \hline
    Prevalence & 1 \\ \hline
    Num Args   & 3 \\ \hline
\end{tabular}

Performs a bitwise AND of the value contained in the register pointed to by the second argument with the value in the register pointed to by the third argument.

Stores the result in the register pointed to by the first argument.

\subsection{Bitwise Not}

\begin{tabular}{|
    >{\columncolor[HTML]{C0C0C0}}l |l|}
    \hline
    Prevalence & 1 \\ \hline
    Num Args   & 2 \\ \hline
\end{tabular}

Negates every bit of the value contained in the register pointed to by the second argument.

Stores the result in the register pointed to by the first argument.

\subsection{Bitwise Or}

\begin{tabular}{|
    >{\columncolor[HTML]{C0C0C0}}l |l|}
    \hline
    Prevalence & 1 \\ \hline
    Num Args   & 3 \\ \hline
\end{tabular}

Performs a bitwise OR of the value contained in the register pointed to by the second argument with the value in the register pointed to by the third argument.

Stores the result in the register pointed to by the first argument.

\subsection{Bitwise Shift}

\begin{tabular}{|
    >{\columncolor[HTML]{C0C0C0}}l |l|}
    \hline
    Prevalence & 1 \\ \hline
    Num Args   & 3 \\ \hline
\end{tabular}

Shifts the bits of the value contained in the register pointed to by the second argument by the value in the register pointed to by the third argument.

Stores the result in the register pointed to by the first argument.

\subsection{Bitwise Xor}

\begin{tabular}{|
    >{\columncolor[HTML]{C0C0C0}}l |l|}
    \hline
    Prevalence & 1 \\ \hline
    Num Args   & 3 \\ \hline
\end{tabular}

Performs a bitwise XOR of the value contained in the register pointed to by the second argument with the value in the register pointed to by the third argument.

Stores the result in the register pointed to by the first argument.

\subsection{Count Ones}

\begin{tabular}{|
    >{\columncolor[HTML]{C0C0C0}}l |l|}
    \hline
    Prevalence & 1 \\ \hline
    Num Args   & 2 \\ \hline
\end{tabular}

Counts the number of bits set in the value contained in the register pointed to by the first argument.

Stores the result in the register pointed to by the second argument.

\subsection{Random Fill}

\begin{tabular}{|
    >{\columncolor[HTML]{C0C0C0}}l |l|}
    \hline
    Prevalence & 1 \\ \hline
    Num Args   & 1 \\ \hline
\end{tabular}

Fills register pointed to by the first argument with random bits chosen from a uniform distribution.

\subsection{Equal}

\begin{tabular}{|
    >{\columncolor[HTML]{C0C0C0}}l |l|}
    \hline
    Prevalence & 1 \\ \hline
    Num Args   & 3 \\ \hline
\end{tabular}

Checks whether the value contained in the register pointed to by the second argument is equal to the value in the register pointed to by the third argument.

Stores the result in the register pointed to by the first argument.

\subsection{Greater Than}

\begin{tabular}{|
    >{\columncolor[HTML]{C0C0C0}}l |l|}
    \hline
    Prevalence & 1 \\ \hline
    Num Args   & 3 \\ \hline
\end{tabular}

Checks whether the value contained in the register pointed to by the second argument is greater than the value in the register pointed to by the third argument.

Stores the result in the register pointed to by the first argument.

\subsection{Less Than}

\begin{tabular}{|
    >{\columncolor[HTML]{C0C0C0}}l |l|}
    \hline
    Prevalence & 1 \\ \hline
    Num Args   & 3 \\ \hline
\end{tabular}

Checks whether the value contained in the register pointed to by the second argument is less than the value in the register pointed to by the third argument.

Stores the result in the register pointed to by the first argument.

\subsection{Logical And}

\begin{tabular}{|
    >{\columncolor[HTML]{C0C0C0}}l |l|}
    \hline
    Prevalence & 1 \\ \hline
    Num Args   & 3 \\ \hline
\end{tabular}

Performs a logical AND of the value contained in the register pointed to by the second argument with the value in the register pointed to by the third argument.

Stores the result in the register pointed to by the first argument.

\subsection{Logical Or}

\begin{tabular}{|
    >{\columncolor[HTML]{C0C0C0}}l |l|}
    \hline
    Prevalence & 1 \\ \hline
    Num Args   & 3 \\ \hline
\end{tabular}

Performs a logical OR of the value contained in the register pointed to by the second argument with the value in the register pointed to by the third argument.

Stores the result in the register pointed to by the first argument.

\subsection{Not Equal}

\begin{tabular}{|
    >{\columncolor[HTML]{C0C0C0}}l |l|}
    \hline
    Prevalence & 1 \\ \hline
    Num Args   & 3 \\ \hline
\end{tabular}

Checks whether the value contained in the register pointed to by the second argument is not equal to the value in the register pointed to by the third argument.

Stores the result in the register pointed to by the first argument.

\subsection{Global Anchor}

\begin{tabular}{|
    >{\columncolor[HTML]{C0C0C0}}l |l|}
    \hline
    Prevalence & 15 \\ \hline
    Num Args   & 0 \\ \hline
\end{tabular}

Marks a global destination to which any jump instruction may jump to.

\subsection{Global Jump If}

\begin{tabular}{|
    >{\columncolor[HTML]{C0C0C0}}l |l|}
    \hline
    Prevalence & 1 \\ \hline
    Num Args   & 1 \\ \hline
\end{tabular}

Jumps to a global anchor that maches the instruction tag if `arg[0]` is true.

\subsection{Global Jump If Not}

\begin{tabular}{|
    >{\columncolor[HTML]{C0C0C0}}l |l|}
    \hline
    Prevalence & 1 \\ \hline
    Num Args   & 1 \\ \hline
\end{tabular}

Jumps to a global anchor that maches the instruction tag if `arg[0]` is false.

\subsection{Private Regulator Adjust}

\begin{tabular}{|
    >{\columncolor[HTML]{C0C0C0}}l |l|}
    \hline
    Prevalence & 1 \\ \hline
    Num Args   & 1 \\ \hline
\end{tabular}

Adjusts the regulator value of all global jump table tags that match this instruction's tag by `arg[0]`.

\subsection{Private Regulator Decay}

\begin{tabular}{|
    >{\columncolor[HTML]{C0C0C0}}l |l|}
    \hline
    Prevalence & 1 \\ \hline
    Num Args   & 1 \\ \hline
\end{tabular}

Decays the regulator value of all global jump table tags that match this instruction's tag by `arg[0]`.

\subsection{Private Regulator Get}

\begin{tabular}{|
    >{\columncolor[HTML]{C0C0C0}}l |l|}
    \hline
    Prevalence & 1 \\ \hline
    Num Args   & 1 \\ \hline
\end{tabular}

Gets the regulator value of the first global jump table tag that matches this instruction's tag.

Stores it in `arg[0]`.

\subsection{Private Regulator Set}

\begin{tabular}{|
    >{\columncolor[HTML]{C0C0C0}}l |l|}
    \hline
    Prevalence & 1 \\ \hline
    Num Args   & 1 \\ \hline
\end{tabular}

Sets the regulator value of all global jump table tags that match this instruction's tag to `arg[0]`.

\subsection{Local Anchor}

\begin{tabular}{|
    >{\columncolor[HTML]{C0C0C0}}l |l|}
    \hline
    Prevalence & 20 \\ \hline
    Num Args   & 0 \\ \hline
\end{tabular}

Marks a local destination to which any jump instruction may jump to.

At least one local anchor is needed to have a module.

\subsection{Local Jump If}

\begin{tabular}{|
    >{\columncolor[HTML]{C0C0C0}}l |l|}
    \hline
    Prevalence & 1 \\ \hline
    Num Args   & 1 \\ \hline
\end{tabular}

Jumps to a local anchor that maches the instruction tag if `arg[0]` is true.

\subsection{Local Jump If Not}

\begin{tabular}{|
    >{\columncolor[HTML]{C0C0C0}}l |l|}
    \hline
    Prevalence & 1 \\ \hline
    Num Args   & 1 \\ \hline
\end{tabular}

Jumps to a local anchor that maches the instruction tag if `arg[0]` is false.

\subsection{Local Regulator Adjust}

\begin{tabular}{|
    >{\columncolor[HTML]{C0C0C0}}l |l|}
    \hline
    Prevalence & 1 \\ \hline
    Num Args   & 1 \\ \hline
\end{tabular}

Adjusts the regulator value of all local jump table tags that match this instruction's tag by `arg[0]`.

\subsection{Local Regulator Decay}

\begin{tabular}{|
    >{\columncolor[HTML]{C0C0C0}}l |l|}
    \hline
    Prevalence & 1 \\ \hline
    Num Args   & 1 \\ \hline
\end{tabular}

Decays the regulator value of all local jump table tags that match this instruction's tag by `arg[0]`.

\subsection{Local Regulator Get}

\begin{tabular}{|
    >{\columncolor[HTML]{C0C0C0}}l |l|}
    \hline
    Prevalence & 1 \\ \hline
    Num Args   & 1 \\ \hline
\end{tabular}

Gets the regulator value of the first local jump table tag that matches this instruction's tag.

Stores it in `arg[0]`.

\subsection{Local Regulator Set}

\begin{tabular}{|
    >{\columncolor[HTML]{C0C0C0}}l |l|}
    \hline
    Prevalence & 1 \\ \hline
    Num Args   & 1 \\ \hline
\end{tabular}

Sets the regulator value of all local jump table tags that match this instruction's tag to `arg[0]`.

\subsection{Decrement}

\begin{tabular}{|
    >{\columncolor[HTML]{C0C0C0}}l |l|}
    \hline
    Prevalence & 1 \\ \hline
    Num Args   & 1 \\ \hline
\end{tabular}

Takes `arg[0]', decrements it by one, and stores it in `arg[0]'.

\subsection{Increment}

\begin{tabular}{|
    >{\columncolor[HTML]{C0C0C0}}l |l|}
    \hline
    Prevalence & 1 \\ \hline
    Num Args   & 1 \\ \hline
\end{tabular}

Takes `arg[0]', increments it by one, and stores the result in `arg[0]'.

\subsection{Negate}

\begin{tabular}{|
    >{\columncolor[HTML]{C0C0C0}}l |l|}
    \hline
    Prevalence & 1 \\ \hline
    Num Args   & 1 \\ \hline
\end{tabular}

Finds the negative value of `arg[0]` and stores the result in `arg[0]'.

\subsection{Not}

\begin{tabular}{|
    >{\columncolor[HTML]{C0C0C0}}l |l|}
    \hline
    Prevalence & 1 \\ \hline
    Num Args   & 1 \\ \hline
\end{tabular}

Negates `arg[0]` and stores tbe result in `arg[0]'.

\subsection{Random Bool}

\begin{tabular}{|
    >{\columncolor[HTML]{C0C0C0}}l |l|}
    \hline
    Prevalence & 1 \\ \hline
    Num Args   & 1 \\ \hline
\end{tabular}

Stores a random bool on `arg[0]` selected from an uniform distribution with probability proportional to this instruction's tag.

\subsection{Random Draw}

\begin{tabular}{|
    >{\columncolor[HTML]{C0C0C0}}l |l|}
    \hline
    Prevalence & 1 \\ \hline
    Num Args   & 1 \\ \hline
\end{tabular}

Stores a random float on `arg[0]` selected from an uniform distribution with probability proportional to this instruction's tag.

\subsection{Terminal}

\begin{tabular}{|
    >{\columncolor[HTML]{C0C0C0}}l |l|}
    \hline
    Prevalence & 50 \\ \hline
    Num Args   & 1 \\ \hline
\end{tabular}

Stores a genetically-encoded value on `arg[0]`. This value is encoded using the instruction's tag.

\subsection{Exposed Regulator Adjust}

prevalence 1

\subsection{Exposed Regulator Decay}

prevalence 1

\subsection{Exposed Regulator Get}

prevalence 1

\subsection{Exposed Regulator Set}

prevalence 1


\subsection{Add to Own State}

\begin{tabular}{|
>{\columncolor[HTML]{C0C0C0}}l |l|}
\hline
Prevalence & 1 \\ \hline
Num Args   & 1 \\ \hline
\end{tabular}

Interprets the first 32 bytes of the instruction tag as an unsigned integer.
Calculates the index of the writable state to operate on as the remainder of integer division by the number of writable states.

Adds the value in register \texttt{arg0} and the current value in the target writable state then stores the sum back into the writable state.

\subsection{Broadcast Intra Message If}

\begin{tabular}{|
    >{\columncolor[HTML]{C0C0C0}}l |l|}
    \hline
    Prevalence & 1 \\ \hline
    Num Args   & 1 \\ \hline
    \end{tabular}

If `arg[0]' is true, encodes the instruction's tag and register states into a message, which then broadcasts to every other cardinal within the cell.


\subsection{Multiply Own State}

\begin{tabular}{|
    >{\columncolor[HTML]{C0C0C0}}l |l|}
    \hline
    Prevalence & 5 \\ \hline
    Num Args   & 1 \\ \hline
\end{tabular}

Multiplies cell's own writable state by `arg[0]'

\subsection{Read Neighbor State}

\begin{tabular}{|
    >{\columncolor[HTML]{C0C0C0}}l |l|}
    \hline
    Prevalence & 10 \\ \hline
    Num Args   & 1 \\ \hline
\end{tabular}

Reads neighbor's readable state and stores it in `arg[0]'.

Which neighbor the state is read from is determined algorithmically via the instruction's tag.

\subsection{Read Own State}

\begin{tabular}{|
    >{\columncolor[HTML]{C0C0C0}}l |l|}
    \hline
    Prevalence & 20 \\ \hline
    Num Args   & 1 \\ \hline
\end{tabular}

Reads own readable state and stores it in `arg[0]'.

\subsection{Send Inter Message If}

\begin{tabular}{|
    >{\columncolor[HTML]{C0C0C0}}l |l|}
    \hline
    Prevalence & 5 \\ \hline
    Num Args   & 1 \\ \hline
\end{tabular}

If `arg[0]' is true, sends cell's state to a neighbor cell as determined by the peripheral.

\subsection{Send Intra Message If}

\begin{tabular}{|
    >{\columncolor[HTML]{C0C0C0}}l |l|}
    \hline
    Prevalence & 5 \\ \hline
    Num Args   & 1 \\ \hline
\end{tabular}

If `arg[0]' is true, sends cell's state to a cardinal within the cell as determined by the peripheral.


\subsection{Write Own State If}

\begin{tabular}{|
    >{\columncolor[HTML]{C0C0C0}}l |l|}
    \hline
    Prevalence & 5 \\ \hline
    Num Args   & 2 \\ \hline
\end{tabular}

If `arg[1]' is true, writes cell's state into `arg[0]'.

